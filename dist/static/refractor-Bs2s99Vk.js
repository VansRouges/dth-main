import{e as D,f as F,h as z,k as B,g as H,l as I,j as q}from"./sanity-Bf4F3g_n.js";var j={},L;function V(){if(L)return j;L=1;var p=D();function e(r,s,o){if(r.tagName){var t=r.properties&&Array.isArray(r.properties.className)?r.properties.className.join(" "):r.properties.className;return p.createElement(r.tagName,Object.assign({key:"fract-".concat(o,"-").concat(s)},r.properties,{className:t}),r.children&&r.children.map(l(o+1)))}return r.value}function l(r){return function(o,t){return e(o,t,r)}}return j.depth=l,j}var k,A;function $(){if(A)return k;A=1,k=typeof WeakMap=="function"?p:e;function p(){this.map=new WeakMap}p.prototype.has=function(l){return this.map.has(l)},p.prototype.set=function(l,r){return this.map.set(l,r),this},p.prototype.get=function(l){return this.map.get(l)},p.prototype.clear=function(){};function e(){this.keys=[],this.values=[]}return e.prototype.has=function(l){return this.keys.indexOf(l)!==-1},e.prototype.set=function(l,r){var s=this.keys.indexOf(l);return s===-1?(this.keys.push(l),this.values.push(r)):this.values[s]=r,this},e.prototype.get=function(l){var r=this.keys.indexOf(l);return r===-1?void 0:this.values[r]},e.prototype.clear=function(){this.keys=[],this.values=[]},k}var w,P;function G(){if(P)return w;P=1;var p=F(),e=z(),l=$();function r(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return i.reduce(function(u,n){var f=a.lineNumber;if(n.type==="text"){if(n.value.indexOf(`
`)===-1)return n.lineStart=f,n.lineEnd=f,u.nodes.push(n),u;for(var c=n.value.split(`
`),v=0;v<c.length;v++){var y=v===0?a.lineNumber:++a.lineNumber;u.nodes.push({type:"text",value:v===c.length-1?c[v]:"".concat(c[v],`
`),lineStart:y,lineEnd:y})}return u.lineNumber=a.lineNumber,u}if(n.children){var g=r(n.children,a),N=g.nodes[0],E=g.nodes[g.nodes.length-1];return n.lineStart=N?N.lineStart:f,n.lineEnd=E?E.lineEnd:f,n.children=g.nodes,u.lineNumber=g.lineNumber,u.nodes.push(n),u}return u.nodes.push(n),u},{nodes:[],lineNumber:a.lineNumber})}function s(i,a){var u={type:"root",children:a},n=new l,f=new l,c=new l,v=[];function y(h,m,x){v.push(m),x.forEach(function(S){h.has(S)||(h.set(S,Object.assign({},S,{children:[]})),S!==u&&v.push(S))});for(var M=x.length;M--;){var b=h.get(x[M]),R=x[M+1],O=h.get(R)||m;b.children.indexOf(O)===-1&&b.children.push(O)}}e(u,function(h,m){if(!h.children){if(h.lineStart<i){y(n,h,m);return}if(h.lineStart===i){y(f,h,m);return}h.lineEnd>i&&v.some(function(x){return m.indexOf(x)!==-1})&&y(c,h,m)}});var g=p(u,function(h){return v.indexOf(h)===-1}),N=function(m){var x=m.get(u);return x?(e(x,function(M,b){if(M.children){M.lineStart=0,M.lineEnd=0;return}b.forEach(function(R){R.lineStart=Math.max(R.lineStart,M.lineStart),R.lineEnd=Math.max(R.lineEnd,M.lineEnd)})}),x.children):[]},E=[].concat(N(n),N(f),N(c),g?g.children:[]);return n.clear(),f.clear(),c.clear(),E}function o(i,a,u){var n=a.className||"refractor-marker";return{type:"element",tagName:a.component||"div",properties:a.component?Object.assign({},u,{className:n}):{className:n},children:i,lineStart:a.line,lineEnd:i[i.length-1].lineEnd,isMarker:!0}}function t(i,a,u){if(a.length===0||i.length===0)return i;for(var n=a.reduce(function(h,m){return s(m.line,h)},i),f=[],c=0,v=0;v<a.length;v++){for(var y=a[v],g=n[c];g&&g.lineEnd<y.line;g=n[++c])f.push(g);for(var N=[],E=n[c];E&&E.lineEnd===y.line;E=n[++c])N.push(E);N.length>0&&f.push(o(N,y,u))}for(;c<n.length;)f.push(n[c++]);return f}function d(i,a){var u=a.markers.map(function(f){return f.line?f:{line:f}}).sort(function(f,c){return f.line-c.line}),n=r(i).nodes;return t(n,u,a)}return w=d,w}var C,U;function J(){if(U)return C;U=1;var p=D(),e=B(),l=V(),r=G(),s=p.createElement;function o(t){var d="language-".concat(t.language),i={className:d},a={className:[t.className||"refractor",d].filter(Boolean).join(" ")};t.inline&&(i.style={display:"inline"},i.className=t.className||"refractor");var u=e.highlight(t.value,t.language);t.markers&&t.markers.length>0&&(u=r(u,{markers:t.markers}));var n=u.length===0?t.value:u.map(l.depth(0)),f=s("code",i,n);return t.inline?f:s("pre",a,f)}return o.registerLanguage=function(t){return e.register(t)},o.hasLanguage=function(t){return e.registered(t)},C=o,C}var K=J();const W=H(K);function Q(p){const e=I.c(13),{language:l,value:r}=p,s=typeof l=="string"?l:void 0;let o;e[0]!==s?(o=s?W.hasLanguage(s):!1,e[0]=s,e[1]=o):o=e[1];const t=o;let d;e[2]!==s||e[3]!==t||e[4]!==r?(d=!(s&&t)&&q.jsx("code",{children:r}),e[2]=s,e[3]=t,e[4]=r,e[5]=d):d=e[5];let i;e[6]!==s||e[7]!==t||e[8]!==r?(i=s&&t&&q.jsx(W,{inline:!0,language:s,value:String(r)}),e[6]=s,e[7]=t,e[8]=r,e[9]=i):i=e[9];let a;return e[10]!==d||e[11]!==i?(a=q.jsxs(q.Fragment,{children:[d,i]}),e[10]=d,e[11]=i,e[12]=a):a=e[12],a}Q.displayName="LazyRefractor";export{Q as default};
